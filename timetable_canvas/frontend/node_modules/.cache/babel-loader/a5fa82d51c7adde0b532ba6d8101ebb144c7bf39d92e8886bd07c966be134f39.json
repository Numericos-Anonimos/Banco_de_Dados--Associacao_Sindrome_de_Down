{"ast":null,"code":"// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Vector } from '../vector.mjs';\nimport { valueToString } from '../util/pretty.mjs';\nimport { instance as getVisitor } from '../visitor/get.mjs';\nimport { instance as setVisitor } from '../visitor/set.mjs';\n/** @ignore */\nexport const kKeys = Symbol.for('keys');\n/** @ignore */\nexport const kVals = Symbol.for('vals');\nexport class MapRow {\n  constructor(slice) {\n    this[kKeys] = new Vector([slice.children[0]]).memoize();\n    this[kVals] = slice.children[1];\n    return new Proxy(this, new MapRowProxyHandler());\n  }\n  [Symbol.iterator]() {\n    return new MapRowIterator(this[kKeys], this[kVals]);\n  }\n  get size() {\n    return this[kKeys].length;\n  }\n  toArray() {\n    return Object.values(this.toJSON());\n  }\n  toJSON() {\n    const keys = this[kKeys];\n    const vals = this[kVals];\n    const json = {};\n    for (let i = -1, n = keys.length; ++i < n;) {\n      json[keys.get(i)] = getVisitor.visit(vals, i);\n    }\n    return json;\n  }\n  toString() {\n    return \"{\".concat([...this].map(_ref => {\n      let [key, val] = _ref;\n      return \"\".concat(valueToString(key), \": \").concat(valueToString(val));\n    }).join(', '), \"}\");\n  }\n  [Symbol.for('nodejs.util.inspect.custom')]() {\n    return this.toString();\n  }\n}\nclass MapRowIterator {\n  constructor(keys, vals) {\n    this.keys = keys;\n    this.vals = vals;\n    this.keyIndex = 0;\n    this.numKeys = keys.length;\n  }\n  [Symbol.iterator]() {\n    return this;\n  }\n  next() {\n    const i = this.keyIndex;\n    if (i === this.numKeys) {\n      return {\n        done: true,\n        value: null\n      };\n    }\n    this.keyIndex++;\n    return {\n      done: false,\n      value: [this.keys.get(i), getVisitor.visit(this.vals, i)]\n    };\n  }\n}\n/** @ignore */\nclass MapRowProxyHandler {\n  isExtensible() {\n    return false;\n  }\n  deleteProperty() {\n    return false;\n  }\n  preventExtensions() {\n    return true;\n  }\n  ownKeys(row) {\n    return row[kKeys].toArray().map(String);\n  }\n  has(row, key) {\n    return row[kKeys].includes(key);\n  }\n  getOwnPropertyDescriptor(row, key) {\n    const idx = row[kKeys].indexOf(key);\n    if (idx !== -1) {\n      return {\n        writable: true,\n        enumerable: true,\n        configurable: true\n      };\n    }\n    return;\n  }\n  get(row, key) {\n    // Look up key in row first\n    if (Reflect.has(row, key)) {\n      return row[key];\n    }\n    const idx = row[kKeys].indexOf(key);\n    if (idx !== -1) {\n      const val = getVisitor.visit(Reflect.get(row, kVals), idx);\n      // Cache key/val lookups\n      Reflect.set(row, key, val);\n      return val;\n    }\n  }\n  set(row, key, val) {\n    const idx = row[kKeys].indexOf(key);\n    if (idx !== -1) {\n      setVisitor.visit(Reflect.get(row, kVals), idx, val);\n      // Cache key/val lookups\n      return Reflect.set(row, key, val);\n    } else if (Reflect.has(row, key)) {\n      return Reflect.set(row, key, val);\n    }\n    return false;\n  }\n}\nObject.defineProperties(MapRow.prototype, {\n  [Symbol.toStringTag]: {\n    enumerable: false,\n    configurable: false,\n    value: 'Row'\n  },\n  [kKeys]: {\n    writable: true,\n    enumerable: false,\n    configurable: false,\n    value: null\n  },\n  [kVals]: {\n    writable: true,\n    enumerable: false,\n    configurable: false,\n    value: null\n  }\n});","map":{"version":3,"names":["Vector","valueToString","instance","getVisitor","setVisitor","kKeys","Symbol","for","kVals","MapRow","constructor","slice","children","memoize","Proxy","MapRowProxyHandler","iterator","MapRowIterator","size","length","toArray","Object","values","toJSON","keys","vals","json","i","n","get","visit","toString","concat","map","_ref","key","val","join","keyIndex","numKeys","next","done","value","isExtensible","deleteProperty","preventExtensions","ownKeys","row","String","has","includes","getOwnPropertyDescriptor","idx","indexOf","writable","enumerable","configurable","Reflect","set","defineProperties","prototype","toStringTag"],"sources":["C:\\Users\\emclulo\\Downloads\\GitHub\\Banco_de_Dados--Associacao_Sindrome_de_Down\\timetable_canvas\\frontend\\node_modules\\apache-arrow\\src\\row\\map.ts"],"sourcesContent":["// Licensed to the Apache Software Foundation (ASF) under one\r\n// or more contributor license agreements.  See the NOTICE file\r\n// distributed with this work for additional information\r\n// regarding copyright ownership.  The ASF licenses this file\r\n// to you under the Apache License, Version 2.0 (the\r\n// \"License\"); you may not use this file except in compliance\r\n// with the License.  You may obtain a copy of the License at\r\n//\r\n//   http://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing,\r\n// software distributed under the License is distributed on an\r\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n// KIND, either express or implied.  See the License for the\r\n// specific language governing permissions and limitations\r\n// under the License.\r\n\r\nimport { Data } from '../data.js';\r\nimport { Vector } from '../vector.js';\r\nimport { DataType, Struct } from '../type.js';\r\nimport { valueToString } from '../util/pretty.js';\r\nimport { instance as getVisitor } from '../visitor/get.js';\r\nimport { instance as setVisitor } from '../visitor/set.js';\r\n\r\n/** @ignore */ export const kKeys = Symbol.for('keys');\r\n/** @ignore */ export const kVals = Symbol.for('vals');\r\n\r\nexport class MapRow<K extends DataType = any, V extends DataType = any> {\r\n\r\n    [key: string]: V['TValue'];\r\n\r\n    declare private [kKeys]: Vector<K>;\r\n    declare private [kVals]: Data<V>;\r\n\r\n    constructor(slice: Data<Struct<{ key: K; value: V }>>) {\r\n        this[kKeys] = new Vector([slice.children[0]]).memoize() as Vector<K>;\r\n        this[kVals] = slice.children[1] as Data<V>;\r\n        return new Proxy(this, new MapRowProxyHandler<K, V>());\r\n    }\r\n\r\n    [Symbol.iterator]() {\r\n        return new MapRowIterator(this[kKeys], this[kVals]);\r\n    }\r\n\r\n    public get size() { return this[kKeys].length; }\r\n\r\n    public toArray() { return Object.values(this.toJSON()); }\r\n\r\n    public toJSON() {\r\n        const keys = this[kKeys];\r\n        const vals = this[kVals];\r\n        const json = {} as { [P in K['TValue']]: V['TValue'] };\r\n        for (let i = -1, n = keys.length; ++i < n;) {\r\n            json[keys.get(i)] = getVisitor.visit(vals, i);\r\n        }\r\n        return json;\r\n    }\r\n\r\n    public toString() {\r\n        return `{${[...this].map(([key, val]) =>\r\n            `${valueToString(key)}: ${valueToString(val)}`\r\n        ).join(', ')\r\n            }}`;\r\n    }\r\n\r\n    public [Symbol.for('nodejs.util.inspect.custom')]() {\r\n        return this.toString();\r\n    }\r\n}\r\n\r\nclass MapRowIterator<K extends DataType = any, V extends DataType = any>\r\n    implements IterableIterator<[K['TValue'], V['TValue'] | null]> {\r\n\r\n    private keys: Vector<K>;\r\n    private vals: Data<V>;\r\n    private numKeys: number;\r\n    private keyIndex: number;\r\n\r\n    constructor(keys: Vector<K>, vals: Data<V>) {\r\n        this.keys = keys;\r\n        this.vals = vals;\r\n        this.keyIndex = 0;\r\n        this.numKeys = keys.length;\r\n    }\r\n\r\n    [Symbol.iterator]() { return this; }\r\n\r\n    next() {\r\n        const i = this.keyIndex;\r\n        if (i === this.numKeys) {\r\n            return { done: true, value: null } as IteratorReturnResult<null>;\r\n        }\r\n        this.keyIndex++;\r\n        return {\r\n            done: false,\r\n            value: [\r\n                this.keys.get(i),\r\n                getVisitor.visit(this.vals, i),\r\n            ] as [K['TValue'], V['TValue'] | null]\r\n        };\r\n    }\r\n}\r\n\r\n/** @ignore */\r\nclass MapRowProxyHandler<K extends DataType = any, V extends DataType = any> implements ProxyHandler<MapRow<K, V>> {\r\n    isExtensible() { return false; }\r\n    deleteProperty() { return false; }\r\n    preventExtensions() { return true; }\r\n    ownKeys(row: MapRow<K, V>) {\r\n        return row[kKeys].toArray().map(String);\r\n    }\r\n    has(row: MapRow<K, V>, key: string | symbol) {\r\n        return row[kKeys].includes(key);\r\n    }\r\n    getOwnPropertyDescriptor(row: MapRow<K, V>, key: string | symbol) {\r\n        const idx = row[kKeys].indexOf(key);\r\n        if (idx !== -1) {\r\n            return { writable: true, enumerable: true, configurable: true };\r\n        }\r\n        return;\r\n    }\r\n    get(row: MapRow<K, V>, key: string | symbol) {\r\n        // Look up key in row first\r\n        if (Reflect.has(row, key)) {\r\n            return (row as any)[key];\r\n        }\r\n        const idx = row[kKeys].indexOf(key);\r\n        if (idx !== -1) {\r\n            const val = getVisitor.visit(Reflect.get(row, kVals), idx);\r\n            // Cache key/val lookups\r\n            Reflect.set(row, key, val);\r\n            return val;\r\n        }\r\n    }\r\n    set(row: MapRow<K, V>, key: string | symbol, val: V) {\r\n        const idx = row[kKeys].indexOf(key);\r\n        if (idx !== -1) {\r\n            setVisitor.visit(Reflect.get(row, kVals), idx, val);\r\n            // Cache key/val lookups\r\n            return Reflect.set(row, key, val);\r\n        } else if (Reflect.has(row, key)) {\r\n            return Reflect.set(row, key, val);\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\nObject.defineProperties(MapRow.prototype, {\r\n    [Symbol.toStringTag]: { enumerable: false, configurable: false, value: 'Row' },\r\n    [kKeys]: { writable: true, enumerable: false, configurable: false, value: null },\r\n    [kVals]: { writable: true, enumerable: false, configurable: false, value: null },\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}